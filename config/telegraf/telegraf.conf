[agent]
  # We can increase the metric publish rate by using 'ms'
  # or 'us' to publish many metrics per second.
  interval = "2s"
  # interval = "50ms"
  round_interval = true
  metric_batch_size = 1000
  metric_buffer_limit = 10000
  collection_jitter = "0s"
  flush_interval = "2s"
  flush_jitter = "0s"
  precision = "0s"
  hostname = ""
  omit_hostname = false

[[outputs.file]]
  files = ["stdout"]

[[outputs.kafka]]
  brokers = ["redpanda:9092"]
  topic = "telegraf"
  data_format = "msgpack"
  #data_format = "influx"

# [[inputs.cpu]]
#   percpu = true
#   totalcpu = true
#   collect_cpu_time = false
#   report_active = false
#   core_tags = false
[[inputs.system]]
  fielddrop = ["uptime", "uptime_format"]

